pkgbuild::compile_dll() # see note below
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
warnings()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
#################################################################
# Applications
# (1) Sri Lanka Sexual violence: external info; direct item
# (2) Antiabortion referendum: auxiliary information
# (3) Vote buying: double list experiment
#################################################################
# clear memory
rm(list=ls())
# load package
library(bayeslist)
library(dplyr)
#####################################################################################
# Application I: Sri Lanka Sexual Violence
# load data
load("srilankaData-directitemExternInfo/data_srilanka.RData")
# keep Tamil men
dat1 = filter(data_srilanka, tamil == 1 & female == 0) %>%
select(sexaussault,
sexaussault_d,
sexaussault_d2,
treatment,
age,
edu,
eastern,
assist.army,
displace
)
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
########################################
# Simulation Study II.
# Comparison between informative priors
########################################
# Load packages and source functions
# install.packages("StanHeaders_2.18.0.tar.gz", repos = NULL, type="source",dependencies = T)
# install.packages("rstan_2.18.2.tar.gz", repos = NULL, type="source",dependencies = T)
library(foreach)
library(doSNOW)
library(bayeslist)
library(misreport)
source("simulation_functions2.0.R")
source("sourceFunctions/simulation_functions2.0.R")
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
warnings()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
warnings()
#################################################################
# Applications
# (I) Sri Lanka Sexual violence: External Information (intercept-only)
# (II) Vote buying: Direct Item
# (III) Anti-gay sentiment: Double List
# (IV) Antiabortion referendum: Auxiliary Information/Other Experiment Designs
#################################################################
# clear memory
rm(list=ls())
# load packages and functions
library(bayeslist)
library(dplyr)
source("sourceFunctions/simulation_functions2.0.R")
###################################################################################################################
# Application I: Sri Lanka Sexual Violence
###################################################################################################################
# load data
load("srilankaData-ExternInfo/data_srilanka.RData")
# keep Tamil men
dat1 = filter(data_srilanka, tamil == 1 & female == 0) %>%
select(sexaussault,
sexaussault_d,
sexaussault_d2,
treatment,
age,
edu,
eastern,
assist.army,
displace
)
###################################
#### Three forms of priors
# 1. external information incorporated into conditional mean prior on the prevalence
# 2. Estimates from a direct item to form informative normal prior on the parameters
# 3. external information about prevalence or predictions from a direct item
#    as constraints to posterior estimation
###################################
# formula0 = as.formula("sexaussault ~ 1") # intercept only
# formula1 = as.formula("sexaussault ~ displace + assist.army + age + edu + eastern") # with covariates
### External information:
# Doctor reports (Peel et al 2000)
a = 38 # number of people claiming been sexually abused
b = 184 # total number of people surveyed
###################################
# 0. Baseline: No prior information
mod10 = bayeslist(sexaussault ~ 1,
data = dat1,
treat = "treatment",
J = 3,
type = "outcome",
nsim = 1000,
thin = 1,
CIsize = 0.95,
nchain = 2,
seeds = 342321,
prior = NULL,
parallel = T
)
# 1. conditional mean prior using external information
mod11 = bayeslist(sexaussault ~ 1,
data = dat1,
treat = "treatment",
J = 3,
type = "outcome",
nsim = 1000,
thin = 1,
CIsize = 0.95,
nchain = 2,
seeds = 342321,
prior = "cmp",
cmp_a = a,
cmp_b = b,
parallel = T
)
setwd("~/OneDrive - TUM/_project_2/list experiment/package/bayeslist")
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll()
roxygen2::roxygenize()
devtools::clean_dll()
pkgbuild::compile_dll()
roxygen2::roxygenise()
# Comparison between different prior approaches using real data
# Sexual violence in Sri Lanka
#
# clear memory
rm(list=ls())
# load packages and functions
library(bayeslist)
library(dplyr)
roxygen2::roxygenise()
tmp = as.character(as.formula(a ~ b + c))
tmp
tmp[2]
tmp[1]
as.formula(paste(tmp[2],tmp[1],tmp[3]))
tmpd = as.data.frame(a = rnorm(10),b = rnorm(10),c=rnorm(10),d = rnorm(10))
tmpd = as.data.frame(cbind(a = rnorm(10),b = rnorm(10),c=rnorm(10),d = rnorm(10)))
tmpd
model.frame(tmp,tmpd)
tmp
tmpf = as.formula("a ~ b + c")
model.frame(tmpf,tmpd)
warning("adfsa")
devtools::clean_dll()
pkgbuild::compile_dll() # see note below
library(cbq)
?cbq
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
warnings()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
devtools::clean_dll()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
warnings()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
roxygen2::roxygenise()
devtools::clean_dll()
pkgbuild::compile_dll()
roxygen2::roxygenise()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
devtools::clean_dll()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
usethis::use_data("data/lnd.RData", london)
load("data/lnd.RData")
usethis::use_data(lnd, london)
?usethis::use_data
usethis::use_data(lnd)
usethis::use_data(lnd,overwrite = T)
london = lnd
usethis::use_data(london,overwrite = T)
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
pkgbuild::compile_dll() # see note below
roxygen2::roxygenize()
devtools::clean_dll()
pkgbuild::compile_dll()
pkgbuild::compile_dll()
roxygen2::roxygenise()
warnings()
devtools::clean_dll()
pkgbuild::compile_dll() # see note below
pkgbuild::compile_dll()
roxygen2::roxygenise()
warnings()
devtools::clean_dll()
pkgbuild::compile_dll()
roxygen2::roxygenise()
warnings()
install.packages("roxygen2")
devtools::clean_dll()
pkgbuild::compile_dll()
roxygen2::roxygenise()
warnings()
roxygen2::roxygenise()
roxygen2::roxygenise()
warnings()
roxygen2::roxygenise()
roxygen2::roxygenise()
roxygen2::roxygenise()
roxygen2::roxygenise()
roxygen2::roxygenise()
roxygen2::roxygenise()
roxygen2::roxygenise()
roxygen2::roxygenise()
roxygen2::roxygenise()
pkgbuild::compile_dll()
pkgbuild::compile_dll()
devtools::document()
pkgbuild::compile_dll()
devtools::document()
pkgbuild::compile_dll()
pkgbuild::compile_dll()
devtools::document()
warnings()
devtools::install()
#################################################################
# Applications
# (I) Sri Lanka Sexual violence: External Information (intercept-only)
# (II) Vote buying: Direct Item
# (III) Anti-gay sentiment: Double List
# (IV) Antiabortion referendum: Auxiliary Information/Other Experiment Designs
#################################################################
# clear memory
rm(list=ls())
# load packages and functions
library(bayeslist)
library(dplyr)
library(readstata13)
library(xtable)
source("simulation_functions2.0.R")
